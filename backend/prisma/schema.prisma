generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model otp_codes {
  id         Int       @id @default(autoincrement())
  phone      String?   @db.VarChar(20)
  code       String?   @db.VarChar(6)
  expires_at DateTime? @db.Timestamp(6)
  created_at DateTime? @default(now()) @db.Timestamp(6)
}

model users {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  email          String    @unique @db.VarChar(255)
  password_hash  String?   @db.VarChar(255)
  phone          String?   @db.VarChar(20)
  phone_verified Boolean?  @default(false)
  first_name     String?   @db.VarChar(100)
  last_name      String?   @db.VarChar(100)
  oauth_provider String?   @db.VarChar(50)
  oauth_id       String?   @db.VarChar(255)
  created_at     DateTime? @default(now()) @db.Timestamp(6)
  updated_at     DateTime? @default(now()) @db.Timestamp(6)

  @@index([email], map: "idx_users_email")
  @@index([oauth_provider, oauth_id], map: "idx_users_oauth")
}
